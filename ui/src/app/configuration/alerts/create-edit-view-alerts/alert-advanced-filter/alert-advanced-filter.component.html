<form [formGroup]="alertAdvancedFilterForm">
 <!-- distance option -->
<mat-card class='mat-elevation-z'>
    <mat-expansion-panel class="full-width" fxLayoutGap="10px">
        <mat-expansion-panel-header class="full-width">
            <mat-panel-title>
                <mat-checkbox (change)="onChangeDistance($event)" [checked]="isDistanceSelected">
                <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{
                    translationData.lblDistance || 'Distance' }}<span class='mandatoryColor'>*</span></span>
                </mat-checkbox>
                </mat-panel-title>
        </mat-expansion-panel-header>
        <div *ngIf="isDistanceSelected" fxLayout="row" class="full-width filter-direction">
            <div fxLayout="column" class="areaWidth"> 
<mat-label>{{ translationData.lblDistanceLimit || 'Distance Limit' }}<span class='mandatoryColor'>*</span>
<mat-form-field appearance="outline">
    <input matInput placeholder="{{ translationData.lbl00 || '00' }}" formControlName="distance">
</mat-form-field>
<button>m</button>
</mat-label>
</div>
<div fxLayout="column" class="areaWidth"> 
<p style="color: darkgray;padding-top:4px;margin: 2px;line-height : 4px; padding-left:4px">{{translationData.lblEnterathresholdwhenalertshouldbe || 'Enter a threshold when alert should be'}}</p>
<p  style="color: darkgray; padding-top:4px; padding-left:4px">{{translationData.triggeredforthiscriteria || 'triggered for this criteria'}}</p>
</div>
</div>
    </mat-expansion-panel>
</mat-card>

<!-- No of occurences option -->
<mat-card class='mat-elevation-z'>
    <mat-expansion-panel class="full-width" fxLayoutGap="10px">
        <mat-expansion-panel-header class="full-width">
            <mat-panel-title>
                <mat-checkbox (change)="onChangeOccurence($event)" [checked]="isOccurenceSelected">
                <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{
                    translationData.lblNumberofoccurences || 'Number of occurences' }}<span class='mandatoryColor'>*</span></span>
                </mat-checkbox>
                </mat-panel-title>
        </mat-expansion-panel-header>
        <div *ngIf="isOccurenceSelected" fxLayout="row" class="full-width filter-direction">
            <div fxLayout="column" class="areaWidth"> 
<mat-label>{{ translationData.lblOccurences || 'Occurences' }}<span class='mandatoryColor'>*</span>
<mat-form-field appearance="outline">
    <input matInput placeholder="{{ translationData.lbl00 || '00' }}" formControlName="occurences">
</mat-form-field>
</mat-label>
</div>
<div fxLayout="column" class="areaWidth"> 
<p style="color: darkgray;padding-top:4px;margin: 2px;line-height : 4px; padding-left:4px">{{translationData.lblEnterathresholdwhenalertshouldbe || 'Enter a threshold when alert should be'}}</p>
<p  style="color: darkgray; padding-top:4px; padding-left:4px">{{translationData.triggeredforthiscriteria || 'triggered for this criteria'}}</p>
</div>
</div>
    </mat-expansion-panel>
</mat-card>

<!-- Duration option -->
<mat-card class='mat-elevation-z'>
    <mat-expansion-panel class="full-width" fxLayoutGap="10px">
        <mat-expansion-panel-header class="full-width">
            <mat-panel-title>
                <mat-checkbox (change)="onChangeDuration($event)" [checked]="isDurationSelected">
                <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{
                    translationData.lblDuration || 'Duration' }}<span class='mandatoryColor'>*</span></span>
                </mat-checkbox>
                </mat-panel-title>
        </mat-expansion-panel-header>
        <div *ngIf="isDurationSelected" fxLayout="row" class="full-width filter-direction">
            <div fxLayout="column" class="areaWidth"> 
<mat-label>{{ translationData.lblDurationLimit || 'Duration Limit' }}<span class='mandatoryColor'>*</span>
<mat-form-field appearance="outline">
    <input matInput placeholder="{{ translationData.lbl00 || '00' }}" formControlName="duration">
</mat-form-field>
<button>s</button>
</mat-label>
</div>
<div fxLayout="column" class="areaWidth"> 
<p style="color: darkgray;padding-top:4px;margin: 2px;line-height : 4px; padding-left:4px">{{translationData.lblEnterathresholdwhenalertshouldbe || 'Enter a threshold when alert should be'}}</p>
<p  style="color: darkgray; padding-top:4px; padding-left:4px">{{translationData.triggeredforthiscriteria || 'triggered for this criteria'}}</p>
</div>
</div>
    </mat-expansion-panel>
</mat-card>

<!-- POI condition option -->
<mat-card class='mat-elevation-z'>
    <mat-expansion-panel class="full-width" fxLayoutGap="10px">
        <mat-expansion-panel-header class="full-width">
            <mat-panel-title>
                <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{
                    translationData.lblPOICondition || 'POI Condition' }}<span class='mandatoryColor'>*</span></span>
            </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-radio-group (change)='onRadioButtonChange($event)' formControlName="poiSite">
            <mat-radio-button style='margin-right: 20px;'[checked]="true" value="0">
                {{ translationData.lblEnteringSite || 'Entering Site' }}
            </mat-radio-button>
            <mat-radio-button style='margin-right: 20px;' value="1">
                {{ translationData.lblExitingSite || 'Exiting Site' }}
            </mat-radio-button>
        </mat-radio-group>

        <!-- entering site -->
        <!-- Map -->
        <div #map id="map" style="width: 100%; height: 450px; margin-bottom: 25px" > 
        </div>
                            
        <!-- POI table -->
        <div>
            <div style='padding: 20px; position: relative;'>
              <mat-divider></mat-divider>
            </div>
            <mat-expansion-panel class="full-width" fxLayoutGap="10px" [expanded]="true">
              <mat-expansion-panel-header class="full-width">
                <mat-panel-title>
                        <span><span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{(translationData.lblSelectPOI || 'Select POI ') }}</span>  <span class='mandatoryColor'>*</span></span>
                </mat-panel-title>  
              </mat-expansion-panel-header>     
            <div fxLayout="row" fxLayoutAlign="left" class='margin-bottom-sm'>
              <div style='margin-right: 50px;' class='areaWidth' fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="left">
                <mat-form-field appearance="outline">
                    <input matInput (keyup)="applyFilterForPOI($event.target.value)" placeholder="{{ translationData.lblSearch || 'Search' }}">
                    <span matPrefix><mat-icon>search</mat-icon></span>
                </mat-form-field>
              </div>
            </div>
            <div>
              <mat-table [dataSource]="poiDataSource" class="table-items" matSort>
                <ng-container matColumnDef="select">
                  <mat-header-cell *matHeaderCellDef>
                    <mat-checkbox (change)='$event ? masterToggleForPOI() : null'
                      [checked]='selectedPOI.hasValue() && isAllSelectedForPOI()'
                      [indeterminate]='selectedPOI.hasValue() && !isAllSelectedForPOI()'
                      [aria-label]='checkboxLabelForPOI()'>
                    </mat-checkbox>
                    <span style="margin: 5px 0px 0px 5px;">{{ translationData.lblAll || 'All'}}</span>
                  </mat-header-cell>
                  <mat-cell *matCellDef="let row">
                    <mat-checkbox (click)='$event.stopPropagation()' (change)='$event ? selectedPOI.toggle(row) : null; PoiCheckboxClicked($event,row)'
                      [checked]='selectedPOI.isSelected(row)' [aria-label]='checkboxLabelForPOI(row)'>
                    </mat-checkbox>
                  </mat-cell>
                </ng-container>
                <ng-container matColumnDef="icon">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Icon</mat-header-cell>
                    <mat-cell *matCellDef="let row">
                      <mat-icon *ngIf="row.icon && row.icon == ''">place</mat-icon>
                      <img *ngIf="row.icon && row.icon != ''" [src]='row.icon' alt='' width='20px' height='20px'>
                    </mat-cell>
                  </ng-container>
                  <ng-container matColumnDef="name">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Name</mat-header-cell>
                    <mat-cell *matCellDef="let row">{{ row.name }}</mat-cell>
                  </ng-container>
                  <ng-container matColumnDef="categoryName">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Category</mat-header-cell>
                    <mat-cell *matCellDef="let row">{{ row.categoryName }}</mat-cell>
                  </ng-container>
                  <ng-container matColumnDef="subCategoryName">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Sub-Category</mat-header-cell>
                    <mat-cell *matCellDef="let row">{{ row.subCategoryName }}</mat-cell>
                  </ng-container>
                  <ng-container matColumnDef="address">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Address</mat-header-cell>
                    <mat-cell *matCellDef="let row">{{ row.address }}, {{ row.city }}, {{ row.country }}</mat-cell>
                  </ng-container>
                  <mat-header-row *matHeaderRowDef="displayedColumnsPOI"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumnsPOI;">
                </mat-row>
              </mat-table>
              <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
            </div>
          </mat-expansion-panel>
          </div>
    </mat-expansion-panel>
</mat-card>
</form>