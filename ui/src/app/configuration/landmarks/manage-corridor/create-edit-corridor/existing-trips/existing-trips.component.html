<form [formGroup]="existingTripForm">
  <div fxLayout="row" fxLayoutAlign="space-between" class='margin-bottom-xlg'>
    <div>
      <mat-label>{{ translationData.lblTimeRanges || 'Time Ranges' }} <span class='mandatoryColor'>*</span></mat-label>
      <div>
        <!-- <mat-form-field  class="full-width"> -->
        <button class='resetCancelBtnColor margin-right-10' mat-raised-button color="primary">{{
          translationData.lblToday || 'Today' }}</button>
        <button class='resetCancelBtnColor margin-right-10' mat-raised-button color="primary">{{
          translationData.lblYesterday || 'Yesterday' }}</button>
        <button class='resetCancelBtnColor margin-right-10' mat-raised-button color="primary">{{
          translationData.lblLastWeek || 'Last Week' }}</button>
        <button class='resetCancelBtnColor margin-right-10' mat-raised-button color="primary">{{
          translationData.lblLastMonth || 'Last Month' }}</button>
        <button class='resetCancelBtnColor margin-right-10' mat-raised-button color="primary">{{
          translationData.lblLast3Months || 'Last 3 Months' }}</button>
        <!-- </mat-form-field> -->

      </div>

    </div>

    <div style="width: 170px; margin-right: 30px;">
      <mat-label>{{ translationData.lblVehicleGroup || 'Vehicle Group' }} <span class='mandatoryColor'>*</span>
      </mat-label>
      <!-- <mat-form-field class="full-width"> -->
      <mat-select (selectionChange)="vehicleGroupSelection($event)" placeholder="{{ translationData.lblDefaultBase || 'Default Base' }}" formControlName="vehicleGroup"
        required>
        <mat-option *ngFor="let vehicleGroupData of vehicleGroupIdsSet" [value]="vehicleGroupData">
          {{ vehicleGroupData}}
        </mat-option>
      </mat-select>
      <!-- </mat-form-field> -->
      <mat-error *ngIf="existingTripForm.get('vehicleGroup').hasError('required')">
        {{ translationData.lblPleasechoosevehicleGroup || 'Please choose vehicle group' }}
      </mat-error>
    </div>
  </div>

  <div fxLayout="row" fxLayoutAlign="space-between" class='margin-bottom-xlg'>
    <div class="dateTimePicker" style="width:75%" fxLayout="row" fxLayoutAlign="space-between" class='margin-bottom-sm'>
    <div>
      <div>
        <mat-label>From<span class='mandatoryColor'>*</span></mat-label>
      </div>
      <mat-form-field appearance="fill">
        <input matInput [matDatepicker]="picker" [formControl]="startDate">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
      <!-- <div>{{startDate.value}}</div> -->
    </div>
    <div fxLayout="row"  fxLayoutAlign="space-between center" class="timepicker">
      <input [ngxTimepicker]="toggleTimepicker" [disableClick]="true" readonly>
      <ngx-material-timepicker-toggle [for]="toggleTimepicker"></ngx-material-timepicker-toggle>
      <ngx-material-timepicker #toggleTimepicker></ngx-material-timepicker>
  </div>
    <div>
      <div>
        <mat-label>To<span class='mandatoryColor'>*</span></mat-label>
      </div>
      <mat-form-field appearance="fill">
        <input matInput [matDatepicker]="endpicker" [formControl]="endDate">
        <mat-datepicker-toggle matSuffix [for]="endpicker"></mat-datepicker-toggle>
        <mat-datepicker #endpicker></mat-datepicker>
      </mat-form-field>
      
      <!-- <div>{{endDate.value}}</div> -->
    </div>
    <div fxLayout="row"  fxLayoutAlign="space-between center" class="timepicker">
      <input [ngxTimepicker]="endtoggleTimepicker" [disableClick]="true" readonly>
      <ngx-material-timepicker-toggle [for]="endtoggleTimepicker"></ngx-material-timepicker-toggle>
      <ngx-material-timepicker #endtoggleTimepicker></ngx-material-timepicker>
  </div>
    </div>
    <div style="width:170px; margin-right:30px">
      <mat-label>{{ translationData.lblVehicle || 'Vehicle' }} <span class='mandatoryColor'>*</span>
      </mat-label>
      <!-- <mat-form-field class="full-width"> -->
      <mat-select (selectionChange)="vinSelection($event)" placeholder="{{ translationData.lblVehicle || 'Vehicle' }}" formControlName="vehicle" required>
        <mat-option *ngFor="let vinListData of vinList" [value]="vinListData">
          {{ vinListData }}
        </mat-option>
      </mat-select>
      <!-- </mat-form-field> -->
      <mat-error *ngIf="existingTripForm.get('vehicleGroup').hasError('required')">
        {{ translationData.lblPleasechoosevehicle || 'Please choose vehicle' }}
      </mat-error>
    </div>
  </div>
</form>




<mat-card class='mat-elevation-z'>
  <div fxLayout="row" fxLayoutAlign="space-between" class='margin-bottom-sm'>
      <div fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="left">
        <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>Existing Trip Details</span>
      </div>
      <!-- <div class="groupDetails margin-bottom-sm" fxLayout="row" fxLayoutAlign="space-between">
          <div fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="end">
              <div fxLayout="row" class='areaWidth'>
                  <div fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="end">
                      <button mat-flat-button color="primary" (click)="onNewCorridor()">
                          <mat-icon>add_circle_outline</mat-icon> {{ translationData.lblNewCorridor || 'New Corridor'
                          }}
                      </button>
                  </div>
              </div>
          </div>
      </div> -->
  </div>
  <div fxLayout="row" fxLayoutAlign="space-between" class='margin-bottom-sm'>
      <div class='areaWidth' fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="left">
          <mat-form-field appearance="outline">
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search ">
            <span matPrefix>
              <mat-icon>search</mat-icon>
            </span>
          </mat-form-field>
        </div>
  </div>

  <div *ngIf='initData.length == 0'>No Record Found</div>
  <div *ngIf='initData.length > 0'>
      <mat-table [dataSource]="dataSource" class="table-items" matSort>
        <ng-container matColumnDef="All">
          <mat-header-cell *matHeaderCellDef>
            <mat-checkbox (change)='$event ? masterToggleForCorridor() : null'
              [checked]='selectedCorridors.hasValue() && isAllSelectedForCorridor()'
              [indeterminate]='selectedCorridors.hasValue() && !isAllSelectedForCorridor()'
              [aria-label]='checkboxLabelForCorridor()' matTooltip="{{ translationData.lblcheckboxViewTooltipmsg || 'Select to view all on map; press DELETE button to delete all entities' }}">
            </mat-checkbox>
            <span style="margin: 5px 0px 0px 5px;">{{ translationData.lblAll || 'All' }}</span>
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <!-- <span *ngIf="row.newTag" class='newTagIcon marginLeft-24'></span>
        <span *ngIf="row.newTag" class='newTxtCss'>{{ translationData.lblNew || 'New' }}</span>
        <span [ngClass]="{ 'marginLeft-14': row.newTag }"></span> -->
            <span *ngIf="row.newTag" class='newTagIcon marginLeft-24'></span>
            <span *ngIf="row.newTag" class='newTxtCss'>{{ translationData.lblNew || 'New' }}</span>
            <span [ngClass]="{ 'marginLeft-14': row.newTag }"></span>
            <mat-checkbox (click)='$event.stopPropagation()'
              (change)='$event ? selectedCorridors.toggle(row) : null; checkboxClicked($event, row)'
              [checked]='selectedCorridors.isSelected(row)' [aria-label]='checkboxLabelForCorridor(row)' matTooltip="{{ translationData.lblcheckboxViewTooltipmsg || 'Select to view on map; press DELETE button to delete selected entity' }}">
            </mat-checkbox>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="DriverName">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblDriverName || 'Driver Name' }}</mat-header-cell>
          <!-- <mat-cell *matCellDef="let row">{{ row.corridoreName }}</mat-cell> -->
        </ng-container>
            <ng-container matColumnDef="distance">
              <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblDistance || 'Distance(km)' }}</mat-header-cell>
              <!-- <mat-cell *matCellDef="let row">{{ row.startPoint }}</mat-cell> -->
            </ng-container>
            <ng-container matColumnDef="date">
              <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblDate || 'Date' }}</mat-header-cell>
              <!-- <mat-cell *matCellDef="let row">{{ row.endPoint }}</mat-cell> -->
            </ng-container>
            <ng-container matColumnDef="startPoint">
              <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblStartPoint || 'StartPoint' }}</mat-header-cell>
              <!-- <mat-cell *matCellDef="let row">{{ row.width }}</mat-cell> -->
            </ng-container>
            <ng-container matColumnDef="endPoint">
              <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblEndPoint || 'EndPoint' }}</mat-header-cell>
              <!-- <mat-cell *matCellDef="let row">{{ row.width }}</mat-cell> -->
            </ng-container>
            <!-- <ng-container matColumnDef="action">
              <mat-header-cell *matHeaderCellDef class="action"> {{ translationData.lblAction || 'Actions' }} </mat-header-cell>
              <mat-cell *matCellDef="let row" class="action">
                <button class='actionBtn' mat-flat-button (click)="editViewCorridor(row, 'view')" matTooltip="{{ translationData.lblView || 'View' }}">
                  <mat-icon>visibility</mat-icon>
                </button>
                <button *ngIf="!adminAccessType.adminReadOnlyAccess" class='actionBtn' mat-flat-button (click)="editViewCorridor(row, 'edit')" matTooltip="{{ translationData.lblEdit || 'Edit' }}">
                  <mat-icon>create</mat-icon>
                </button>
                <button *ngIf="adminAccessType.adminFullAccess" class='actionBtn' mat-flat-button (click)="deleteCorridor(row)" matTooltip="{{ translationData.lblDelete || 'Delete' }}">
                  <mat-icon class="deleteIcon">delete_outline</mat-icon>
                </button>
              </mat-cell>
            </ng-container> -->
          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;">
          </mat-row>
      </mat-table>
      <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" (page)="pageSizeUpdated($event)"></mat-paginator>
  </div>
</mat-card>