<div class='bgtrans'>
        <div *ngIf='grpTitleVisible' fxLayout="row" fxLayoutAlign="center center"
            style='padding:10px; color:#fff; background: #5dc24e;' class='margin-bottom-sm'>
            <div fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="center center" style='width:95%;'>
            {{ fileUploadedMsg }}
            </div>
            <div fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="center center">
            <mat-icon (click)='onCloseMsg()' style='cursor: pointer;'>close</mat-icon>
            </div>
        </div>
        <mat-card class='mat-elevation-z margin-bottom-xlg'>
            <form [formGroup]="uploadTranslationDataFormGroup">
                <div class='margin-bottom-sm' fxLayout="row" fxLayoutAlign="start start">
                    <div fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="left">
                        <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ translationData.lblUploadNewTranslationData || 'Upload New Translation Data' }}</span>
                    </div>
                </div>
                <div fxLayout="row" fxLayoutAlign="start start" fxLayoutGap="15px">
                    <div style='width: 60%' fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="left">
                        <span style='display: flex; align-items: center;'>
                            <img matTooltip='Download Excel' src='assets/images/icons/microsoftExcel/excel_icon.svg' style="width: 30px; height: 30px;" />&nbsp;
                            <a (click)="openLanguageSelectionPopup()"    
                                style='cursor: pointer; font: 1 16px/32px Roboto, "Helvetica Neue", sans-serif; text-decoration-line: underline;'>{{ translationData.lblDownloadTranslatedData || 'Download Translated Data' }}
                            </a>
                        </span>
                        <span>{{ translationData.lblDownloadaTemplateMessage || 'Download final template from here and upload it here with updated details.'}}</span>
                    </div>
                    <div style='width: 90%; background: #ecf7fe; border-radius: 5px;' fxLayout="column" fxLayoutAlign="end">
                        <div style='padding: 30px;' fxLayout="row" fxLayoutGap="25px" fxLayoutAlign="start">
                            <div class='full-width' fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="left">
                                <div fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="start">
                                    <div class='areaWidth full-width myform-wrappe uploadArea' fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="left">
                                        <mat-label>{{ translationData.lblUploadTranslationDataFile || 'Upload Translation Data file' }} <span class='mandatoryColor'>*</span></mat-label>
                                        <mat-form-field appearance="outline">
                                            <ngx-mat-file-input (change)="addfile($event)" [accept]="'.xlsx'" formControlName="uploadFile" placeholder="Upload your updated xlsx File" ></ngx-mat-file-input>
                                            <button mat-flat-button color="primary" matSuffix>{{ translationData.lblBrowse || 'Browse' }}</button>
                                        </mat-form-field>
                                        <mat-error *ngIf="uploadTranslationDataFormGroup.get('uploadFile').hasError('required')">
                                            {{ translationData.lblPleaseselectafile || 'Please select a file' }}
                                        </mat-error>
                                        <mat-error *ngIf="uploadTranslationDataFormGroup.get('uploadFile').hasError('maxContentSize')">
                                            The total size must not exceed {{uploadTranslationDataFormGroup.get('uploadFile')?.getError('maxContentSize').maxSize | byteFormat}} ({{uploadTranslationDataFormGroup.get('uploadFile')?.getError('maxContentSize').actualSize
                                            | byteFormat}}).
                                        </mat-error>
                                    </div>
                                    <div fxLayout="column" fxLayoutAlign="space-around" class='margin-bottom-sm'>
                                        <button style='color: #fff;' [disabled]="!uploadTranslationDataFormGroup.valid" [ngStyle]="{'margin-top': uploadTranslationDataFormGroup.get('uploadFile').hasError('required') ? '9px' : '29px' }" mat-flat-button color="primary"
                                            (click)="uploadTranslationData()">
                                            <mat-icon>arrow_circle_up</mat-icon> {{ translationData.lblUploadFile || 'Upload File' }}
                                        </button>
                                    </div>
                                </div>
                                <div class="areaWidth full-width myform-wrappe" fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="start">
                                    <mat-label>
                                        {{ translationData.lblDescription || 'Description'}}
                                        {{ translationData.lbl120CharMax || '120 characters max'}}
                                    </mat-label><br>
                                    <mat-form-field appearance="outline">
                                        <input maxlength="120" placeholder="{{ translationData.lblEnterFileDescription || 'Enter File Description' }}" matInput formControlName="fileDescription">
                                    </mat-form-field>
                                    <mat-error *ngIf="  uploadTranslationDataFormGroup.get('fileDescription').hasError('whitespace')">
                                        Description cannot contain only whitespace
                                    </mat-error>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </mat-card>
        <mat-card *ngIf='isTranslationDataUploaded' style='border: 1px solid #d0d0d0;' class='mat-elevation-z margin-bottom-xlg'>
            <div fxLayout="row" fxLayoutAlign="space-between" class='margin-bottom-sm'>
                <div style='width:95%;' fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="left">
                    <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ translationData.lblUploadedFileDetails || 'Uploaded File Details' }}</span>
                </div>
                <div fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="center center">
                    <mat-icon (click)='onClose()' style='cursor: pointer;'>close</mat-icon>
                </div>
            </div>
            <div fxLayout="row" fxLayoutAlign="start space-between">
                <div style='width:50%;' fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="left">
                    <span style='color: green'>{{ translationData.fileuploadedSuccessfully || 'File has been uploaded successfully'}}</span>
                </div>
            </div>
            <div fxLayout="row" fxLayoutAlign="start space-between">
                <div style='width:50%;' fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="left">
                    <span>Added- <span style='color: red'>2 new details</span></span>
                </div>
            </div>
            <div fxLayout="row" fxLayoutAlign="start space-between">
                <div style='width:50%;' fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="left">
                    <span>Updated- <span style='color: red'>120 new details</span></span>
                </div>
            </div>
        </mat-card>
        <mat-card class='mat-elevation-z'>
                <div fxLayout="row" fxLayoutAlign="space-between" class='margin-bottom-xlg'>
                    <div fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="left">
                        <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ translationData.uploadedFileHistory || 'Uploaded File History' }}</span>
                    </div>
                </div>
                <div fxLayout="row" fxLayoutAlign="space-between" class='margin-bottom-sm'>
                    <div class='areaWidth' fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="left">
                        <mat-form-field appearance="outline" class="full-width">
                            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="{{ translationData.lblSearch || 'Search' }}">
                            <span matPrefix><mat-icon>search</mat-icon></span>
                        </mat-form-field>
                    </div>
                </div>
                <div *ngIf='initData.length == 0'>{{ translationData.lblNoRecordFound || 'No Record Found' }}</div>
                <div *ngIf='initData.length > 0'>
                    <mat-table [dataSource]="dataSource" matSort>
                        <ng-container matColumnDef="fileName">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblFileName || 'File Name' }}</mat-header-cell>
                            <mat-cell *matCellDef="let row">{{ row.fileName }}</mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="uploadedDate">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblUploadedDate || 'Uploaded Date' }}</mat-header-cell>
                            <mat-cell *matCellDef="let row">{{ row.uploadedDate }}</mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="fileSize">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblFileSize || 'File Size' }}</mat-header-cell>
                            <mat-cell *matCellDef="let row">{{ row.fileSize }}</mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="description">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblDescription || 'Description' }}</mat-header-cell>
                            <mat-cell *matCellDef="let row">{{ row.description }}</mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="action">
                            <mat-header-cell *matHeaderCellDef>{{ translationData.lblAction || 'Action' }}</mat-header-cell>
                            <mat-cell *matCellDef="let row">
                                <button class='actionBtn' mat-flat-button (click)="onDownloadExcel(row)" matTooltip="{{ translationData.lblDownload || 'Download' }}">
                                    <img src='assets/images/icons/microsoftExcel/excel_icon.svg' style="width: 20px; height: 20px;" />
                                </button>
                            </mat-cell>
                        </ng-container>
                        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                        <mat-row *matRowDef="let row; columns: displayedColumns;">
                        </mat-row>
                    </mat-table>
                    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
                </div>
                <app-spinner *ngIf="showLoadingIndicator" ></app-spinner>
        </mat-card>
</div>