<!-- <div class="bgtrans"> -->
    <form [formGroup]="tripForm">
        <mat-card class='mat-elevation-z no-padding margin-bottom-xlg'>
          <mat-expansion-panel [(expanded)]="searchExpandPanel" class="full-width" fxLayoutGap="10px">
            <mat-expansion-panel-header class="full-width">
              <mat-panel-title>
                <span>
                  <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ translationData.lblSearchReportParameters || 'Search Report Parameters' }}</span>
                </span>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div>
              <div fxLayout="row" fxLayoutAlign="space-between" class="full-width margin-bottom-xlg" fxLayoutGap="10px">
                <div class="areaWidth min-width-60-per" fxLayout="column" fxLayoutAlign="left">
                  <mat-label>{{ translationData.lblTimeRange || 'Time Range' }} <span class='mandatoryColor'>*</span></mat-label>
                  <div style='margin-top: 5px;'>
                    <button [disabled]="selectionTab == 'today'" (click)="selectionTimeRange('today')" [ngClass]="{'selectedBtn': selectionTab == 'today'}" class='margin-right-10 no-margin margin-bottom-sm' mat-raised-button color="primary">{{translationData.lblToday || 'Today' }}</button>
                    <button [disabled]="selectionTab == 'yesterday'" (click)="selectionTimeRange('yesterday')" [ngClass]="{'selectedBtn': selectionTab == 'yesterday'}" class='margin-right-10 no-margin margin-bottom-sm' mat-raised-button color="primary">{{translationData.lblYesterday || 'Yesterday' }}</button>
                    <button [disabled]="selectionTab == 'lastweek'" (click)="selectionTimeRange('lastweek')" [ngClass]="{'selectedBtn': selectionTab == 'lastweek'}" class='margin-right-10 no-margin margin-bottom-sm' mat-raised-button color="primary">{{translationData.lblLastWeek || 'Last Week' }}</button>
                    <button [disabled]="selectionTab == 'lastmonth'" (click)="selectionTimeRange('lastmonth')" [ngClass]="{'selectedBtn': selectionTab == 'lastmonth'}" class='margin-right-10 no-margin margin-bottom-sm' mat-raised-button color="primary">{{translationData.lblLastMonth|| 'Last Month' }}</button>
                    <button [disabled]="selectionTab == 'last3month'" (click)="selectionTimeRange('last3month')" [ngClass]="{'selectedBtn': selectionTab == 'last3month'}" class='no-margin margin-bottom-sm' mat-raised-button color="primary">{{translationData.lblLast3Months || 'Last 3 Months' }}</button>
                  </div>
                </div>
                <div class="areaWidth min-width-30-per" fxLayout="column" fxLayoutAlign="left">
                  <mat-label>{{ translationData.lblVehicleGroup || 'Vehicle Group' }} </mat-label>
                  <mat-form-field appearance="outline">
                    <mat-select  (selectionChange)="onVehicleGroupChange($event)" placeholder="{{ translationData.lblSelectVehicleGroup || 'Select Vehicle Group' }}"  formControlName="vehicleGroup">
                      <mat-option *ngFor="let rer of vehicleGrpDD" [value]="rer.vehicleGroupId">
                          {{ rer.vehicleGroupName }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field> 
                  <!-- <mat-error *ngIf="tripForm.get('vehicleGroup').hasError('required') && vehicleGrpDD.length > 0">
                    {{translationData.lblPleaseSelectvehicleGroup || 'Please Select Vehicle Group' }}
                  </mat-error> -->
                </div>
              </div>
              <div fxLayout="row" fxLayoutAlign="space-between" class="full-width margin-bottom-xlg" fxLayoutGap="10px">
                <div class="areaWidth min-width-60-per" fxLayout="column" fxLayoutAlign="left">
                  <div fxLayout="row" fxLayoutAlign="space-between" class="full-width" fxLayoutGap="10px">
                    <div class="areaWidth min-width-40-per" fxLayout="column" fxLayoutAlign="left">
                      <mat-label>{{ translationData.lblFrom || 'From' }} <span class='mandatoryColor'>*</span></mat-label>
                      <div fxLayout="row" fxLayoutAlign="start" class="full-width" fxLayoutGap="10px">
                        <div class="areaWidth max-width-50-per" fxLayout="column" fxLayoutAlign="left">
                          <mat-form-field appearance="outline">
                            <input matInput [(ngModel)]="startDateValue" (dateChange)="changeStartDateEvent($event)" [min]='last3MonthDate' [max]='endDateValue' [matDatepicker]="startPicker" formControlName="startDate">
                            <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
                            <mat-datepicker #startPicker></mat-datepicker>
                          </mat-form-field>
                        </div>
                        <div class="areaWidth" fxLayout="column" fxLayoutAlign="left">
                          <div fxLayout="row" fxLayoutAlign="space-between" class="full-width" class="timepicker" style='margin-top: 4px;'>
                            <!-- <span class='timeAdjustSpan'>{{ startTimeDisplay }}</span>  -->
                            <input [max]='selectedEndTime' [(ngModel)]="selectedStartTime" class='inputBox' [format]="prefTimeFormat" [ngxTimepicker]="toggleStartTimepicker" [disableClick]="true" formControlName="startTime" readonly>
                            <ngx-material-timepicker-toggle [for]="toggleStartTimepicker"></ngx-material-timepicker-toggle>
                            <ngx-material-timepicker (timeChanged)="startTimeChanged($event)" #toggleStartTimepicker></ngx-material-timepicker>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="areaWidth min-width-40-per" fxLayout="column" fxLayoutAlign="left">
                      <mat-label>{{ translationData.lblTo || 'To' }} <span class='mandatoryColor'>*</span></mat-label>
                      <div fxLayout="row" fxLayoutAlign="start" class="full-width" fxLayoutGap="10px">
                        <div class="areaWidth max-width-50-per" fxLayout="column" fxLayoutAlign="left">
                          <mat-form-field appearance="outline">
                            <input matInput [(ngModel)]="endDateValue" (dateChange)="changeEndDateEvent($event)" [min]='startDateValue' [max]='todayDate' [matDatepicker]="endPicker" formControlName="endDate">
                            <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
                            <mat-datepicker #endPicker></mat-datepicker>
                          </mat-form-field>
                        </div>
                        <div class="areaWidth" fxLayout="column" fxLayoutAlign="left">
                          <div fxLayout="row" fxLayoutAlign="space-between" class="full-width" class="timepicker" style='margin-top: 4px;'>
                            <!-- <span class='timeAdjustSpan'>{{ endTimeDisplay }}</span> -->
                            <input [min]='selectedStartTime' [(ngModel)]="selectedEndTime"  class='inputBox' [format]="prefTimeFormat" [ngxTimepicker]="toggleEndTimepicker" [disableClick]="true" formControlName="endTime" readonly>
                            <ngx-material-timepicker-toggle [for]="toggleEndTimepicker"></ngx-material-timepicker-toggle>
                            <ngx-material-timepicker (timeChanged)="endTimeChanged($event)" #toggleEndTimepicker></ngx-material-timepicker>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="areaWidth min-width-30-per" fxLayout="column" fxLayoutAlign="left">
                  <mat-label>{{ translationData.lblVehicle || 'Vehicle' }}</mat-label>
                  <mat-form-field appearance="outline">
                    <mat-select [disabled]="vehicleDD.length == 0" (selectionChange)="onVehicleChange($event)" placeholder="{{ translationData.lblSelectVehicle || 'Select Vehicle' }}" formControlName="vehicle">
                      <mat-option *ngFor="let rer of vehicleDD" [value]="rer.vehicleId">
                          {{ rer.vehicleName }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <mat-error *ngIf="tripForm.get('vehicle').hasError('required') && vehicleDD.length > 0">
                    {{translationData.lblPleaseSelectVehicle || 'Please Select Vehicle' }}
                  </mat-error>
                </div>
              </div>
              <div fxLayout="row" fxLayoutAlign="end" class='areaWidth'> 
                <button class='resetCancelBtnColor margin-right-10 no-margin' mat-raised-button color="primary"
                  (click)='onReset()'>{{translationData.lblReset || 'Reset' }}</button>
                <button [disabled]="!tripForm.valid" class='no-margin' mat-raised-button color="primary"
                  (click)='onSearch()'>{{ translationData.lblSearch || 'Search' }}</button>
              </div>
            </div>
          </mat-expansion-panel>
        </mat-card> 
      </form>
  <!-- </div> -->
  
     <!-- Summary Section -->
     <div id ="charts">
      <mat-card *ngIf='displayData.length > 0' class='mat-elevation-z no-padding margin-bottom-xlg' id ="summary">
          <mat-expansion-panel [(expanded)]="isSummaryOpen" class="full-width" fxLayoutGap="10px" (opened)="isSummaryOpen == true"
          (closed)="isSummaryOpen == false">
            <mat-expansion-panel-header class="full-width">
              <mat-panel-title>
                    <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ translationData.lblSummary || 'Summary'
                      }}</span>
                      <div>
                    <button mat-button [matMenuTriggerFor]="menu" style="margin-left: 900px;">
                      <mat-icon>file_upload</mat-icon>{{ translationData.lblExport || 'Export' }}<mat-icon>more_vert</mat-icon>
                    </button>
                    <mat-menu #menu="matMenu">
                      <button mat-menu-item (click)="exportAsExcelFile()">{{ translationData.lblExcel || 'Excel' }}</button>
                      <button mat-menu-item (click)="exportAsPDFFile()">{{ translationData.lblPDF || 'PDF' }}</button>
                    </mat-menu>
                  </div>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div *ngIf='displayData.length > 0'>
              <div style='padding: 20px; margin-bottom: 10px; background: #f7f3f3;'>
                <div fxLayout="row" fxLayoutAlign="left" class="full-width" fxLayoutGap="10px">
                  <div class="areaWidth min-width-20-per" fxLayout="column" fxLayoutAlign="left">
                    <span>
                      <span>{{ translationData.lblFrom || 'From' }}: </span>
                      <span style='font: 500 14px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ tableInfoObj.fromDate }}</span>                  </span>
                  </div>
                  <div class="areaWidth min-width-20-per" fxLayout="column" fxLayoutAlign="left">
                    <span>
                      <span>{{ translationData.lblTo || 'To' }}: </span>
                      <span style='font: 500 14px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ tableInfoObj.toDate }}</span>
                    </span>
                  </div>
                  <div class="areaWidth min-width-20-per" fxLayout="column" fxLayoutAlign="left">
                    <span>
                      <span>{{ translationData.lblVehicleGroup || 'Vehicle Group' }}: </span>
                      <span style='font: 500 14px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ tableInfoObj.vehGroupName }}</span>
                    </span>
                  </div>
                  <div class="areaWidth min-width-20-per" fxLayout="column" fxLayoutAlign="left">
                    <span>
                      <span>{{ translationData.lblVehicleName || 'Vehicle Name' }}: </span>
                      <span style='font: 500 14px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ tableInfoObj.vehName }}</span>
                    </span>
                  </div>
                </div>
              </div>
  
              <div fxLayout="row" fxLayoutAlign="left" class="full-width" fxLayoutGap="20px">
                <div class="areaWidth min-width-15-per colData" fxLayout="column" fxLayoutAlign="left">
                  <span>{{ translationData.lblNumberOfTrips || 'Number Of Trips' }}</span>
                  <span style='font: 500 14px/32px Roboto, "Helvetica Neue", sans-serif;'>{{summaryObj.noOfTrips}}</span>
                </div>
                <div class="areaWidth min-width-15-per colData" fxLayout="column" fxLayoutAlign="left">
                  <span>{{ translationData.lblDistance || 'Distance' }}</span>
                  <span style='font: 500 14px/32px Roboto, "Helvetica Neue", sans-serif;'>{{summaryObj.distance}}</span>
                </div>
                <div class="areaWidth min-width-15-per colData" fxLayout="column" fxLayoutAlign="left">
                  <span>{{ translationData.lblFuelConsumed || 'Fuel Consumed' }}</span>
                  <span style='font: 500 14px/32px Roboto, "Helvetica Neue", sans-serif;'>{{summaryObj.fuelconsumed}}</span>
                </div>
                <div class="areaWidth min-width-15-per colData" fxLayout="column" fxLayoutAlign="left">
                  <span>{{ translationData.lblIdleDuration || 'Idle Duration' }}</span>
                  <span style='font: 500 14px/32px Roboto, "Helvetica Neue", sans-serif;'>{{summaryObj.idleDuration}}</span>
                </div>
                <div class="areaWidth min-width-15-per colData" fxLayout="column" fxLayoutAlign="left">
                  <span>{{ translationData.lblFuelConsumption || 'Fuel Consumption' }}</span>
                  <span style='font: 500 14px/32px Roboto, "Helvetica Neue", sans-serif;'>{{summaryObj.fuelConsumption}}</span>
                </div>
                <div class="areaWidth min-width-15-per colData" fxLayout="column" fxLayoutAlign="left">
                <span>{{ translationData.lblCO2Emission || 'CO2 Emission' }}</span>
                <span style='font: 500 14px/32px Roboto, "Helvetica Neue", sans-serif;'>{{summaryObj.co2emission}}</span>
              </div>
              </div>
             
            </div>
          </mat-expansion-panel>
        </mat-card>
  
        <!-- Charts view -->
  
        <mat-card *ngIf='displayData.length > 0' class='mat-elevation-z no-padding margin-bottom-xlg'>
          <mat-expansion-panel [(expanded)]="isChartsOpen" class="full-width" fxLayoutGap="10px" (opened)="isChartsOpen"
          (closed)="!isChartsOpen">
            <mat-expansion-panel-header class="full-width">
              <mat-panel-title>
                <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ translationData.lblCharts || 'Charts' }}</span>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div fxLayout="row" fxLayoutAlign="start" class="full-width" fxLayoutGap="10px">
            <div class="areaWidth areaWidth half-width" fxLayout="column" fxLayoutAlign="left">
              <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ translationData.lblFuelConsumed || 'Fuel Consumed' }}</span>
              <div class="chart-wrapper">
                <canvas baseChart 
                [datasets]="lineChartData"
                [labels]="lineChartLabels"
                [options]="lineChartOptions"
                [colors]= "lineChartColors"
                [plugins]="lineChartPlugins"
                [legend]="lineChartLegend"
                [chartType]="lineChartType">
              </canvas>
            </div>
          </div>
          <div class="areaWidth half-width" fxLayout="column" fxLayoutAlign="right">
            <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ translationData.lblNumberofTrips || 'Number of Trips' }}</span>
            <div class="chart-wrapper">
              <canvas baseChart 
              [datasets]="barChartData"
              [labels]="barChartLabels"
              [options]="barChartOptions"
              [plugins]="barChartPlugins"
              [legend]="barChartLegend"
              [chartType]="barChartType">
              </canvas>
          </div>
        </div>
  
        </div>
        <div fxLayout="row" fxLayoutAlign="start" class="full-width" fxLayoutGap="10px">
          <div class="areaWidth half-width" fxLayout="column" fxLayoutAlign="left">
            <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ translationData.lblCO2Emission || 'CO2 Emission' }}</span>
            <div class="chart-wrapper">
              <canvas baseChart 
              [datasets]="lineChartData" 
              [labels]="lineChartLabels" 
              [options]="lineChartOptions"
              [colors]="lineChartColors" 
              [legend]="lineChartLegend" 
              [chartType]="lineChartType" 
              [plugins]="lineChartPlugins">
            </canvas>
          </div>
          </div>
          <div class="areaWidth half-width" fxLayout="column" fxLayoutAlign="right">
            <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ translationData.lblDistance || 'Distance' }}</span>
            <div class="chart-wrapper">
              <canvas baseChart 
              [datasets]="lineChartData" 
              [labels]="lineChartLabels" 
              [options]="lineChartOptions"
              [colors]="lineChartColors" 
              [legend]="lineChartLegend" 
              [chartType]="lineChartType" 
              [plugins]="lineChartPlugins">
            </canvas>
          </div>
          </div>
        </div>
  
        <div fxLayout="row" fxLayoutAlign="start" class="full-width" fxLayoutGap="10px">
          <div class="areaWidth half-width" fxLayout="column" fxLayoutAlign="left">
            <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ translationData.lblFuelConsumption || 'Fuel Consumption' }}</span>
            <div class="chart-wrapper">
              <canvas baseChart 
              [datasets]="lineChartData" 
              [labels]="lineChartLabels" 
              [options]="lineChartOptions"
              [colors]="lineChartColors" 
              [legend]="lineChartLegend" 
              [chartType]="lineChartType" 
              [plugins]="lineChartPlugins">
            </canvas>
          </div>
          </div>
          <div class="areaWidth half-width" fxLayout="column" fxLayoutAlign="right">
            <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ translationData.lblIdleDuration || 'Idle Duration' }}</span>
            <div  class="chart-wrapper">
              <canvas baseChart 
              [datasets]="lineChartData" 
              [labels]="lineChartLabels" 
              [options]="lineChartOptions"
              [colors]="lineChartColors" 
              [legend]="lineChartLegend" 
              [chartType]="lineChartType" 
              [plugins]="lineChartPlugins">
            </canvas>
          </div>
          </div>
        </div>
        </mat-expansion-panel>
        </mat-card>
  
  
             <!-- Fleet Table -->
  <mat-card class='mat-elevation-z no-padding margin-bottom-xlg'>
    <mat-expansion-panel  [(expanded)]="tableExpandPanel" class="full-width" fxLayoutGap="10px">
      <mat-expansion-panel-header class="full-width">
        <mat-panel-title>
          <span style='font: 500 16px/32px Roboto, "Helvetica Neue", sans-serif;'>{{ translationData.lblAllDetails || 'All
            Details' }}</span>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div *ngIf='displayData.length == 0'>
        <div style='font: 500 14px/32px Roboto, "Helvetica Neue", sans-serif;' fxLayout="row"
          fxLayoutAlign="space-between" class='margin-bottom-sm'>{{ translationData.lblNoRecordFound || 'No Record Found!'
          }}</div>
        <div fxLayout="row" fxLayoutAlign="space-between" class='margin-bottom-sm'>{{ translationData.lblSelectionMessage
          || 'Please select and search required fields from top to view the details' }}</div>
      </div>
      <div *ngIf='displayData.length > 0'  [ngClass]="{'reportTable': displayedColumns.length > 7}">
      <div fxLayout="row" fxLayoutAlign="space-between" class='margin-bottom-sm' fxLayoutGap="10px">
        <div class='areaWidth' fxLayout="column" fxLayoutGap="3px" fxLayoutAlign="left">
          <mat-form-field appearance="outline">
            <input matInput (keyup)="applyFilter($event.target.value)"
              placeholder="{{ translationData.lblSearch || 'Search' }}">
            <span matPrefix>
              <mat-icon>search</mat-icon>
            </span>
          </mat-form-field>
        </div>
      </div>
      <mat-table matTableExporter [dataSource]="displayData" class="table-items" matSort #exporter="matTableExporter">
          <ng-container matColumnDef="driverName">
              <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblDriverName || 'driver Name' }}
              </mat-header-cell>
             <mat-cell *matCellDef="let row">
              <span class='navigatePoint' (click)='onDriverSelected(row)'>{{ row.driverName != '' ? row.driverName : '-' }}</span>
            </mat-cell> 
          </ng-container>
          <ng-container matColumnDef="driverID">
              <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblDriverID || 'driverID' }}
              </mat-header-cell>
              <!-- <mat-cell *matCellDef="let row">
              <span class='navigatePoint' (click)='gotoTrip(row)'>{{ row.vehicleName != '' ? row.vehicleName : '-' }}</span>
            </mat-cell> -->
              <mat-cell *matCellDef="let row">
                <span>{{row.driverID}}</span>
              </mat-cell>
          </ng-container>
        <ng-container matColumnDef="vehicleName">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblVehicleName || 'Vehicle Name' }}
          </mat-header-cell>
          <!-- <mat-cell *matCellDef="let row">
          <span class='navigatePoint' (click)='gotoTrip(row)'>{{ row.vehicleName != '' ? row.vehicleName : '-' }}</span>
        </mat-cell> -->
          <mat-cell *matCellDef="let row">
            <span>{{row.vehicleName}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="vin">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblVIN || 'VIN' }}
          </mat-header-cell>
          <mat-cell *matCellDef="let row" >
            <span>{{row.vin}}</span>
          </mat-cell>
          <!-- <mat-cell *matCellDef="let row">{{ row.vin != '' ? row.vin : '-' }}</mat-cell> -->
        </ng-container>
        <ng-container matColumnDef="plateNo">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblPlateNo || 'Plate No' }}
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.plateNo}}</span>
          </mat-cell>
          <!-- <mat-cell *matCellDef="let row">{{ row.registrationNumber != '' ? row.registrationNumber : '-' }}</mat-cell> -->
        </ng-container>
        <ng-container matColumnDef="distance">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblDistance || 'Distance' }} 
            <span
              style="font-weight: normal;">({{( prefUnitFormat == 'dunit_Metric') ? (translationData.lblkm || 'km') :
              (prefUnitFormat == 'dunit_Imperial') ? (translationData.lblmile || 'mile') : (translationData.lblmile ||
              'mile') }})</span>
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.distance}}</span>
          </mat-cell>
          <!-- <mat-cell *matCellDef="let row">{{ row.convertedDistance != '' ? row.convertedDistance : '-' }}</mat-cell> -->
        </ng-container>
        <ng-container matColumnDef="averageDistance">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblAverageDistancePerDay || 'Average Distance Per Day' }}
            <span style="font-weight: normal;">({{ (prefUnitFormat == 'dunit_Metric') ? (translationData.lblkmh || 'km/h') : (prefUnitFormat == 'dunit_Imperial') ? (translationData.lblmileh || 'mile/h') : (translationData.lblmileh || 'mile/h')  }})</span>
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.averageDistance}}</span>
          </mat-cell>
          <!-- <mat-cell *matCellDef="let row">{{ row.numberOfTrips != '' ? row.numberOfTrips : '-' }}</mat-cell> -->
        </ng-container>
        <ng-container matColumnDef="averageSpeed">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblAverageSpeed || 'Average Speed' }} 
            <span style="font-weight: normal;">({{ (prefUnitFormat == 'dunit_Metric') ? (translationData.lblkmh || 'km/h') : (prefUnitFormat == 'dunit_Imperial') ? (translationData.lblmileh || 'mile/h') : (translationData.lblmileh || 'mile/h')  }})</span>
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.averageSpeed}}</span>
          </mat-cell>
          <!-- <mat-cell *matCellDef="let row">{{ row.convertedTripTime != '' ? row.convertedTripTime : '-' }}</mat-cell> -->
        </ng-container>
        <ng-container matColumnDef="maxSpeed">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblMaxSpeed || 'Max Speed' }} 
            <span style="font-weight: normal;">({{ (prefUnitFormat == 'dunit_Metric') ? (translationData.lblkmh || 'km/h') : (prefUnitFormat == 'dunit_Imperial') ? (translationData.lblmileh || 'mile/h') : (translationData.lblmileh || 'mile/h')  }})</span>
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.maxSpeed}}</span>
          </mat-cell>
          <!-- <mat-cell *matCellDef="let row">{{ row.convertedDrivingTime != '' ? row.convertedDrivingTime : '-' }}</mat-cell> -->
        </ng-container>
        <ng-container matColumnDef="noOfTrips">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblNoOfTrips || 'Number Of Trips' }}
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.maxSnoOfTripspeed}}</span>
          </mat-cell>
          <!-- <mat-cell *matCellDef="let row">{{ row.convertedIdleDuration != '' ? row.convertedIdleDuration : '-' }}</mat-cell> -->
        </ng-container>
        <ng-container matColumnDef="avgGrossWeightComb">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblAverageGrossWeightComb || 'Average Gross Weight Comb' }} 
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.avgGrossWeightComb}}</span>
          </mat-cell>
          <!-- <mat-cell *matCellDef="let row">{{ row.convertedStopTime != '' ? row.convertedStopTime : '-' }}</mat-cell> -->
        </ng-container>
        <ng-container matColumnDef="fuelConsumed">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblFuelConsumed || 'Fuel Consumed' }}
            <!-- <span style="font-weight: normal;">({{ (prefUnitFormat == 'dunit_Metric') ? (translationData.lblkmh || 'km/h')
              : (prefUnitFormat == 'dunit_Imperial') ? (translationData.lblmileh || 'mile/h') : (translationData.lblmileh
              || 'mile/h') }})</span> -->
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.fuelConsumed}}</span>
          </mat-cell>
          <!-- <mat-cell *matCellDef="let row">{{ row.convertedAverageSpeed != '' ? row.convertedAverageSpeed : '-' }}</mat-cell> -->
        </ng-container>
        <ng-container matColumnDef="fuelConsumption">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblFuelConsumption || ' Fuel Consumption' }} 
            <!-- <span style="font-weight: normal;">({{(prefUnitFormat == 'dunit_Metric') ? (translationData.lblkg ||
              'kg') : (prefUnitFormat == 'dunit_Imperial') ? (translationData.lblpound || 'pound') :
              (translationData.lblpound || 'pound') }})</span> -->
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.fuelConsumption}}</span>
          </mat-cell>
          <!-- <mat-cell *matCellDef="let row">{{ row.convertedAverageWeight != '' ? row.convertedAverageWeight : '-' }}</mat-cell> -->
        </ng-container>
        <ng-container matColumnDef="CO2Emisson">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblCO2Emission || 'CO2 Emission' }} 
            <!-- <span style="font-weight: normal;">({{( prefUnitFormat == 'dunit_Metric') ? (translationData.lblkm ||
              'km') : (prefUnitFormat == 'dunit_Imperial') ? (translationData.lblmile || 'mile') :
              (translationData.lblmile || 'mile') }})</span> -->
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.CO2Emisson}}</span>
          </mat-cell>
          <!-- <mat-cell *matCellDef="let row">{{ row.convertedAverageDistance != '' ? row.convertedAverageDistance : '-' }}</mat-cell> -->
        </ng-container>
        <ng-container matColumnDef="isIdleDuration">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblIdleDuration || 'Idle Duration' }} 
            <!-- <span
              style="font-weight: normal;">({{(prefUnitFormat == 'dunit_Metric') ? (translationData.lblkg || 'kg') :
              (prefUnitFormat == 'dunit_Imperial') ? (translationData.lblpound || 'pound') : (translationData.lblpound ||
              'pound') }})</span> -->
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.isIdleDuration}}</span>
          </mat-cell>
          <!-- <mat-cell *matCellDef="let row">{{ row.odometer != '' ? row.odometer : '-' }}</mat-cell> -->
        </ng-container>
        <ng-container matColumnDef="PTODuration">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblPTODuration || 'PTO Duration' }} 
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.PTODuration}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="harshBrakeDuration">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblHarshBrakeDuration || 'Harsh Brake Duration' }} 
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.harshBrakeDuration}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="heavyThrottleDuration">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblHeavyThrottleDuration || 'Heavy Throttle Duration' }} 
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.heavyThrottleDuration}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="cruiseControlDistanceBelow50">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblCruiseControlDistance30-50 || 'Cruise Control Distance 30-50' }} 
            <span style="font-weight: normal;">({{ (prefUnitFormat == 'dunit_Metric') ? (translationData.lblkmh || 'km/h') : (prefUnitFormat == 'dunit_Imperial') ? (translationData.lblmileh || 'mile/h') : (translationData.lblmileh || 'mile/h')  }})</span>
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.cruiseControlDistanceBelow50}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="cruiseControlDistanceBelow75">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblCruiseControlDistance50-75 || 'Cruise Control Distance 50-75' }} 
            <span style="font-weight: normal;">({{ (prefUnitFormat == 'dunit_Metric') ? (translationData.lblkmh || 'km/h') : (prefUnitFormat == 'dunit_Imperial') ? (translationData.lblmileh || 'mile/h') : (translationData.lblmileh || 'mile/h')  }})</span>
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.cruiseControlDistanceBelow75}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="cruiseControlDistanceAbove75">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblCruiseControlDistance>75 || 'Cruise Control Distance >75' }} 
            <span style="font-weight: normal;">({{ (prefUnitFormat == 'dunit_Metric') ? (translationData.lblkmh || 'km/h') : (prefUnitFormat == 'dunit_Imperial') ? (translationData.lblmileh || 'mile/h') : (translationData.lblmileh || 'mile/h')  }})</span>
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.cruiseControlDistanceAbove75}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="avgTrafficClassification">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblAverageTrafficClassification || 'Average Traffic Classification' }} 
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.avgTrafficClassification}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="CCFuelConsumption">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblCCFuelConsumption || 'CC Fuel Consumption' }} 
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.CCFuelConsumption}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="CCFuelConsumptionNon">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblFuelconsumptionCCnonactive || 'Fuel consumption CC non active' }} 
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.CCFuelConsumptionNon}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="IdlingConsumption">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblIdlingConsumption || 'Idling Consumption' }} 
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.IdlingConsumption}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="DPAScore">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblDPAScore || 'DPA Score' }} 
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.DPAScore}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="DPAAnticipation">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblDPAAnticipationscore || 'DPA Anticipation score' }} 
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.DPAAnticipation}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="DPABraking">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblDPABrakingscore || 'DPA Braking score' }} 
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.DPABraking}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="idlingWithPTO">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblIdlingwithPTOscore || 'Idling with PTO(hh:mm:ss) score' }} 
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.idlingWithPTO}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="idlingWithoutPTOWheelbase">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblIdlingwithoutPTO || 'Idling without PTO (hh:mm:ss)' }} 
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.idlingWithoutPTOWheelbase}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="idlingWithoutPTOVIdleDuration">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblIdlingWithoutPTO || 'Idling without PTO' }} 
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.idlingWithoutPTOVIdleDuration}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="footBrake">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblFootBrake || 'Foot Brake' }} 
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.footBrake}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="CO2EmmisionFuelEfficiency">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblCO2emmisiongrkm || 'CO2 emmision gr/km' }} 
            <!-- <span style="font-weight: normal;">({{(prefUnitFormat == 'dunit_Metric') ? (translationData.lblkg || 'kg') :
              (prefUnitFormat == 'dunit_Imperial') ? (translationData.lblpound || 'pound') : (translationData.lblpound ||
              'pound') }})</span> -->
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.CO2EmmisionFuelEfficiency}}</span>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="idlingConsumptionWithPTO">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{ translationData.lblCO2Emmisiongrkm || 'CO2 emmision gr/km' }} 
            <!-- <span style="font-weight: normal;">({{(prefUnitFormat == 'dunit_Metric') ? (translationData.lblkg || 'kg') :
              (prefUnitFormat == 'dunit_Imperial') ? (translationData.lblpound || 'pound') : (translationData.lblpound ||
              'pound') }})</span> -->
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row.idlingConsumptionWithPTO}}</span>
          </mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;">
        </mat-row>
      </mat-table>
      <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" (page)="pageSizeUpdated($event)"></mat-paginator>
      </div>
      <app-spinner *ngIf="showLoadingIndicator"></app-spinner>
    </mat-expansion-panel>
  </mat-card>