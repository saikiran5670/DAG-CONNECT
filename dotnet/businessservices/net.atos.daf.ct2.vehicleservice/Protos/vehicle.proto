syntax = "proto3";

import "google/protobuf/timestamp.proto";

option csharp_namespace = "net.atos.daf.ct2.vehicleservice";

package vehicle;

// The greeting service definition.
service VehicleService {
  // Sends a greeting
  rpc Create (VehicleRequest) returns (VehicleResponce);
  rpc Update (VehicleRequest) returns (VehicleResponce);
  rpc Get (VehicleFilterRequest) returns (VehicleList);
  rpc UpdateStatus (VehicleOptInOptOutRequest) returns (VehicleOptInOptOutResponce);
}

// The request message containing the vehicle details.
message VehicleRequest {
  int32 Id=1;
  int32 Organizationid=2;
  string Name = 3;
  string Vin=4;
  string LicensePlateNumber=5;
  enum VehicleStatusType
  {
    OptIn = 0;
    OptOut = 1;
    Terminate = 2;
    OTA = 3;
  }
VehicleStatusType Status=6;
google.protobuf.Timestamp StatusDate=7;
google.protobuf.Timestamp TerminationDate=8;

}

// The response message containing the greetings.
message VehicleResponce {
  int32 Id=1;
  int32 Organizationid=2;
  string Name = 3;
  string VIN=4;
  string LicensePlateNumber=5;
  enum VehicleStatusType
  {
      OptIn = 0;
      OptOut = 1;
      Terminate = 2;
      OTA = 3;
  }
 VehicleStatusType Status=6;
//  google.protobuf.Timestamp StatusDate=7;
//  google.protobuf.Timestamp TerminationDate=8;

}


message VehicleFilterRequest {
  int32 VehicleId = 1;
  int32 OrganizationId = 2;
  int32 AccountId = 3;
  int32 VehicleGroupId = 4;
  int32 AccountGroupId = 5;
  int32 FeatureId = 6;
  string VehicleIdList = 7;
  string VIN = 8;
}

message VehicleList {
  repeated VehicleResponce vehicles = 1;
}

message VehicleOptInOptOutRequest{
  int32 Refid=1;
  int32 Accountid=2;
  enum VehicleStatusType
  {
      OptIn = 0;
      OptOut = 1;
      Terminate = 2;
      OTA = 3;
  }
  VehicleStatusType Status=3;
  google.protobuf.Timestamp StatusDate=4;
  enum Type
  {
    VehicleLevel = 0;
    OrganizationLevel = 1;
  }
  Type OptInOptOutType=5;
}

message VehicleOptInOptOutResponce{
  int32 Refid=1;
  int32 Accountid=2;
}
